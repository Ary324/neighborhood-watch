(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,s){},101:function(e,t,s){},102:function(e,t,s){},103:function(e,t,s){},104:function(e,t,s){},122:function(e){e.exports=JSON.parse("{}")},123:function(e,t,s){},143:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s.n(n),a=s(59),r=s.n(a),i=(s(67),s(4)),o=(s(68),s(69),s(29)),l=s(22);function j(e){var t=Object(n.useState)({}),s=Object(i.a)(t,2),c=s[0],a=s[1];return{handleChange:function(e){var t=e.target,s=t.name,n=t.value;console.log("name --\x3e",s),console.log("values --\x3e",c),a(Object(l.a)(Object(l.a)({},c),{},Object(o.a)({},s,n)))},handleSubmit:function(t){t.preventDefault(),e()},values:c,setValues:a}}var d=s(14),u=s.p+"static/media/logo.33541299.png",b=s(6),m=s(1);var h=function(e){var t={color:"white"},s=Object(b.f)(),n=e.user,c=e.setUser;return n?Object(m.jsxs)("nav",{children:[Object(m.jsx)("img",{src:u,alt:"logo",width:"80px",height:"56px"}),Object(m.jsxs)("ul",{className:"nav-links",children:[Object(m.jsx)(d.b,{style:t,to:"/",children:Object(m.jsx)("li",{children:"Home"})}),Object(m.jsx)(d.b,{style:t,children:Object(m.jsx)("li",{children:n.email})}),Object(m.jsx)(d.b,{style:t,to:"/login",children:Object(m.jsx)("li",{onClick:function(){c(null),s.push("/login")},children:"Logout"})})]})]}):Object(m.jsxs)("nav",{children:[Object(m.jsx)("img",{src:u,alt:"logo",width:"80px",height:"56px"}),Object(m.jsxs)("ul",{className:"nav-links",children:[Object(m.jsx)(d.b,{style:t,to:"/",children:Object(m.jsx)("li",{children:"Home"})}),Object(m.jsx)(d.b,{style:t,to:"/login",children:Object(m.jsx)("li",{children:"Login"})}),Object(m.jsx)(d.b,{style:t,to:"/register",children:Object(m.jsx)("li",{children:"Register"})})]})]})},p=(s(78),s.p+"static/media/cartoon-street.106fd856.jpeg");var O=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"home-container",children:[Object(m.jsx)("div",{className:"home-title",children:Object(m.jsx)("h1",{children:"Welcome to Neighbourhood Watch"})}),Object(m.jsx)("div",{className:"home-header",style:{backgroundImage:"url(".concat(p,")")}}),Object(m.jsx)("div",{className:"about-container",children:Object(m.jsx)("div",{className:"header-and-text-holder",children:Object(m.jsx)("div",{className:"about-header-container",children:Object(m.jsx)("h3",{className:"about-header",children:"About Us"})})})}),Object(m.jsxs)("div",{className:"home-ref",children:[Object(m.jsx)("div",{className:"visit-header",children:Object(m.jsx)("h2",{children:"Explore"})}),Object(m.jsxs)("div",{className:"visit-container",children:[Object(m.jsxs)("div",{className:"report-box",children:[Object(m.jsx)("div",{className:"visit-title-down",children:Object(m.jsx)("h3",{children:"Post Report"})}),Object(m.jsxs)("div",{className:"visit-text-down",children:[Object(m.jsxs)("p",{className:"more-info",id:"new-point-1",children:["Click ",Object(m.jsx)("a",{href:"/new",children:"here"})," to post a report that everyone can see!"]}),Object(m.jsx)("p",{className:"more-info",id:"new-point-2",children:"Make your own report about anything in your community! \ud83d\udd8a"}),Object(m.jsx)("p",{className:"more-info",id:"new-point-3",children:"View reports of other users from around the world! \ud83c\udf0e "}),Object(m.jsx)("p",{className:"more-info",id:"new-point-4",children:"Comment and Leave a Like on other reports! \ud83d\udde3"}),Object(m.jsx)("p",{className:"more-info",id:"new-point-5",children:"Form Friendships! \ud83d\ude0a \ud83d\udc95"})]})]}),Object(m.jsxs)("div",{className:"map-box",children:[Object(m.jsx)("div",{className:"visit-title-up",children:Object(m.jsx)("h3",{children:"View Map"})}),Object(m.jsxs)("div",{className:"visit-text-up",children:[Object(m.jsxs)("p",{className:"more-info",id:"map-point-1",children:["Click ",Object(m.jsx)("a",{href:"/map",children:"here"})," to view a map of where reports were based on!"]}),Object(m.jsx)("p",{className:"more-info",id:"map-point-2",children:"Shows locations of where reports were made! \ud83d\ude32"}),Object(m.jsx)("p",{className:"more-info",id:"map-point-3",children:"An immersive experience with an Interactive Map API! \ud83d\udce1 "}),Object(m.jsx)("p",{className:"more-info",id:"map-point-4",children:"View all the users of our app! \ud83d\ude01"}),Object(m.jsx)("p",{className:"more-info"})]})]}),Object(m.jsxs)("div",{className:"delete-box",children:[Object(m.jsx)("div",{className:"visit-title-down",children:Object(m.jsx)("h3",{children:"Delete Report"})}),Object(m.jsxs)("div",{className:"visit-text-down",children:[Object(m.jsxs)("p",{className:"more-info",id:"delete-point-1",children:["Click ",Object(m.jsx)("a",{href:"/delete",children:"here"})," to delete any reports you have submitted."]}),Object(m.jsx)("p",{className:"more-info",id:"delete-point-2",children:"Delete a report that you don't want posted anymore! \ud83d\udeab"}),Object(m.jsx)("p",{className:"more-info",id:"delete-point-3",children:"Deletion process is quick and efficient! \ud83c\udfc3"}),Object(m.jsx)("p",{className:"more-info",id:"delete-point-4",children:"Please keep content appropriate in our forums! \ud83d\ude4f"}),Object(m.jsx)("p",{className:"more-info",id:"delete-point-5",children:"We all make mistakes! \ud83d\ude42 "})]})]}),Object(m.jsxs)("div",{className:"update-box",children:[Object(m.jsx)("div",{className:"visit-title-up",children:Object(m.jsx)("h3",{children:"Update Report"})}),Object(m.jsxs)("div",{className:"visit-text-up",children:[Object(m.jsxs)("p",{className:"more-info",id:"up-point-1",children:["Click ",Object(m.jsx)("a",{href:"/update",children:"here"})," to update any reports you have submitted!"]}),Object(m.jsx)("p",{className:"more-info",id:"up-point-2",children:"Update a report that you want to change! \ud83d\udd04"}),Object(m.jsx)("p",{className:"more-info",id:"up-point-3",children:"Please keep content appropriate in our forums! \ud83d\ude4f"}),Object(m.jsx)("p",{className:"more-info",id:"up-point-4",children:"We all make mistakes! \ud83d\ude42"})]})]})]})]})]})})};s(79);function x(e){var t=j((function(){if(a.title.length>30)return C({title:"Title must be less than 30 characters"});if(a.post.length>500)return C({report:"Report must be less than 500 characters"});r({}),console.log("Form Submitted")})),s=t.handleChange,c=t.handleSubmit,a=t.values,r=t.setValues,o=Object(n.useState)(0),l=Object(i.a)(o,2),d=l[0],u=l[1],b=Object(n.useState)(0),h=Object(i.a)(b,2),p=h[0],O=h[1],x=Object(n.useState)(!0),f=Object(i.a)(x,2),v=f[0],g=f[1],N=Object(n.useState)({}),w=Object(i.a)(N,2),y=w[0],C=w[1];return Object(n.useEffect)((function(){6===Object.values(a).filter((function(e){return""!==e})).length?g(!1):g(!0),a.report&&O(a.report.length),a.title&&u(a.title.length)}),[a]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"new-post-container",children:Object(m.jsxs)("form",{onSubmit:c,className:"new-post-form",children:[Object(m.jsx)("h1",{children:"New Report"}),Object(m.jsxs)("div",{className:"new-form-group",children:[Object(m.jsx)("label",{className:"input-label",children:"Title:"}),Object(m.jsx)("input",{type:"text",name:"title",className:"box",placeholder:"Title of Report",value:a.title,onChange:s,required:!0}),Object(m.jsx)("span",{id:"counter",children:Object(m.jsxs)("label",{children:[d,"/30"]})}),y.title&&Object(m.jsx)("span",{className:"error-message",children:y.title})]}),Object(m.jsxs)("div",{className:"new-form-group",children:[Object(m.jsx)("label",{className:"input-label",children:"Category:"}),Object(m.jsxs)("select",{name:"category",className:"category-box",value:a.category,onChange:s,required:!0,children:[Object(m.jsx)("option",{value:"trending",children:"Trending"}),Object(m.jsx)("option",{value:"celebrate",children:"Celebrate"}),Object(m.jsx)("option",{value:"caution",children:"Caution"}),Object(m.jsx)("option",{value:"report-crime",children:"Report A Petty Crime"}),Object(m.jsx)("option",{value:"community-news",children:"Community News"}),Object(m.jsx)("option",{value:"community-question",children:"Question"}),Object(m.jsx)("option",{value:"other",children:"Other"})]})]}),Object(m.jsxs)("div",{className:"new-form-group",children:[Object(m.jsx)("label",{className:"input-label",children:"Whats on Your Mind \ud83e\udd14 :"}),Object(m.jsx)("textarea",{className:"description-box",name:"report",rows:"10",cols:"10",placeholder:"Type Your Report Here",value:a.post,onChange:s,required:!0}),Object(m.jsx)("span",{id:"counter",children:Object(m.jsxs)("label",{children:[p,"/500"]})}),y.post&&Object(m.jsx)("span",{className:"error-message",children:y.post})]}),Object(m.jsxs)("div",{className:"new-form-group",children:[Object(m.jsx)("label",{className:"input-label",children:"Report Address:"}),Object(m.jsx)("input",{type:"text",name:"report_address",className:"box",placeholder:"The address of the place described",value:a.street_one,onChange:s,required:!0})]}),Object(m.jsx)("div",{className:"new-button-container",children:Object(m.jsx)("button",{type:"submit",className:"new-btn",disabled:v,children:"Post"})})]})})})}s(80);var f=s(13),v=s.n(f);function g(e){var t=j((function(){if(!a.email)return x({email:"Email is required"});if(!/\S+@\S+\.\S+/.test(a.email))return x({email:"Email is invalid"});if(!a.password)return x({password:"Password is required"});if(a.password.length<8)return x({password:"Password must be 8 characters long"});console.log("Form Submitted!!"),r({})})),s=t.handleChange,c=t.handleSubmit,a=t.values,r=t.setValues,o=Object(n.useState)(!0),l=Object(i.a)(o,2),d=l[0],u=l[1],h=Object(n.useState)({}),p=Object(i.a)(h,2),O=p[0],x=p[1],f=Object(b.f)(),g=e.user,N=e.setUser;console.log("props 14",e);return Object(n.useEffect)((function(){2===Object.values(a).filter((function(e){return""!==e})).length?u(!1):u(!0)}),[a]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"login-container",children:[Object(m.jsxs)("h1",{className:"header",children:["Login",g?g.first_name:"No Data"]}),Object(m.jsx)("div",{className:"form-container",children:Object(m.jsxs)("form",{onSubmit:c,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Email: "}),Object(m.jsx)("input",{type:"email",name:"email",placeholder:"email",onChange:s,required:!0}),O.email&&Object(m.jsx)("span",{className:"error-message",children:O.email})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Password: "}),Object(m.jsx)("input",{type:"password",name:"password",placeholder:"password",onChange:s,required:!0}),O.password&&Object(m.jsx)("span",{className:"error-message",children:O.password})]}),Object(m.jsx)("div",{className:"button-container",children:Object(m.jsx)("button",{type:"submit",className:"btn",disabled:d,onClick:function(){v.a.post("http://localhost:3000/login",{values:a}).then((function(e){var t=e.data;console.log("The whole user object ---\x3e",e),console.log("The data we need ----\x3e",t),t&&(N(t),f.push("/"))}))},children:"Login"})})]})})]})})}var N=s(17),w=s.n(N),y=s(21);s(100);var C=function(){var e=j((function(){if(!c.email)return O({email:"Email is required"});if(!/\S+@\S+\.\S+/.test(c.email))return O({email:"Email is invalid"});if(!c.password)return O({password:"Password is required"});if(c.password.length<8)return O({password:"Password must be 8 characters long"});if(!c.password_confirm)return O({password_confirm:"Password Confirmation is required"});if(c.password_confirm!==c.password)return O({password_confirm:"Passwords do not match"});console.log("Form Submitted!!"),a({})})),t=e.handleChange,s=e.handleSubmit,c=e.values,a=e.setValues,r=Object(n.useState)(!0),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(n.useState)({}),h=Object(i.a)(u,2),p=h[0],O=h[1],x=Object(b.f)();return Object(n.useEffect)((function(){6===Object.values(c).filter((function(e){return""!==e})).length?d(!1):d(!0)}),[c]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"register-container",children:Object(m.jsxs)("div",{className:"register-form-container",children:[Object(m.jsx)("h1",{className:"header",children:"Register a New Account!"}),Object(m.jsxs)("form",{className:"register-form",onSubmit:s,children:[Object(m.jsxs)("div",{className:"register-form-group",children:[Object(m.jsx)("label",{className:"register-label",children:"First Name: "}),Object(m.jsx)("input",{type:"text",name:"first_name",className:"register-box",placeholder:"first name",value:c.first_name,onChange:t,required:!0})]}),Object(m.jsxs)("div",{className:"register-form-group",children:[Object(m.jsx)("label",{className:"register-label",children:"Last Name: "}),Object(m.jsx)("input",{type:"text",name:"last_name",className:"register-box",placeholder:"last name",value:c.last_name,onChange:t,required:!0})]}),Object(m.jsxs)("div",{className:"register-form-group",children:[Object(m.jsx)("label",{className:"register-label",children:"Address: "}),Object(m.jsx)("input",{type:"text",name:"address",className:"register-box",placeholder:"address",value:c.address,onChange:t,required:!0})]}),Object(m.jsxs)("div",{className:"register-form-group",children:[Object(m.jsx)("label",{className:"register-label",children:"Email: "}),Object(m.jsx)("input",{type:"email",name:"email",className:"register-box",placeholder:"email",value:c.email,onChange:t,required:!0}),p.email&&Object(m.jsx)("span",{className:"error-message",children:p.email})]}),Object(m.jsxs)("div",{className:"register-form-group",children:[Object(m.jsx)("label",{className:"register-label",children:"Password: "}),Object(m.jsx)("input",{type:"password",name:"password",className:"register-box",placeholder:"password",value:c.password,onChange:t,required:!0}),p.password&&Object(m.jsx)("span",{className:"error-message",children:p.password})]}),Object(m.jsxs)("div",{className:"register-form-group",children:[Object(m.jsx)("label",{className:"register-label",children:"Confirm Password: "}),Object(m.jsx)("input",{type:"password",name:"password_confirm",className:"register-box",placeholder:"confirm password",value:c.password_confirm,onChange:t,required:!0}),p.password_confirm&&Object(m.jsx)("span",{className:"error-message",children:p.password_confirm})]}),Object(m.jsxs)("div",{className:"register-button-container",children:[Object(m.jsx)("button",{type:"submit",className:"register-btn",disabled:l,onClick:function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t,s,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("Form Submission"),c.password_confirm===c.password){e.next=5;break}return console.log("Passwords don't match 40"),e.abrupt("return");case 5:return e.next=7,Promise.all([v.a.post("http://localhost:3000/register",{values:c})]).then((function(){x.push("/login")}));case 7:return t=e.sent,s=Object(i.a)(t,1),n=s[0],e.next=12,console.log("im response.data",n);case 12:return e.abrupt("return",n.data);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}})()()},children:"Register"}),Object(m.jsxs)("p",{children:["Already have an account? ",Object(m.jsx)("a",{href:"/login",children:"Login here"})]})]})]})]})})})},k=(s(101),s.p+"static/media/vote.e5176f4e.jpeg");s(102);var S=function(e){return Object(m.jsxs)("div",{className:"Button-Group",children:[Object(m.jsx)("img",{className:"upvote",onClick:function(){return console.log("click")},src:k,alt:"UpVote"}),Object(m.jsx)("img",{className:"downvote",onClick:function(){return console.log("click")},src:k,alt:"DownVote"})]})};s(103);var _=function(e){return Object(m.jsxs)("div",{className:"post-footer",children:[Object(m.jsxs)("p",{children:["Likes: ",e.likes]}),Object(m.jsx)("p",{children:"Expand Comments"}),Object(m.jsx)(S,{})]})};var q=function(e){return Object(m.jsx)("button",{onClick:e.onClick,disabled:e.disabled,children:e.children})};var P=function(e){var t=Object(n.useState)(""),s=Object(i.a)(t,2),c=s[0],a=s[1];return Object(n.useEffect)((function(){console.log(c)}),[c]),Object(m.jsx)("div",{className:"comment-form",children:Object(m.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(m.jsx)("input",{type:"text",placeholder:"Write your comment here",value:c,onChange:function(e){return a(e.target.value)}}),Object(m.jsx)(q,{disabled:""===c,children:"Submit"})]})})};var E=function(e){var t="http://localhost:8000/comment/".concat(e.id),s=Object(n.useState)(null),c=Object(i.a)(s,2),a=c[0],r=c[1];Object(n.useEffect)((function(){function e(){return(e=Object(y.a)(w.a.mark((function e(){var s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(t);case 2:return s=e.sent,console.log("this is data",s),r(s.data),e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),console.log("this is info",a);var o=a&&a.map((function(e){return Object(m.jsxs)("div",{className:"comment",children:[Object(m.jsx)("div",{className:"list-header",children:Object(m.jsx)("span",{children:"".concat(e.first_name," ").concat(e.last_name)})}),e.comment]})}));return Object(m.jsxs)("div",{className:"comment-list",children:[o,Object(m.jsx)(P,{})]})};s(104);var F=function(e){return Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("p",{children:"".concat(e.first_name," ").concat(e.last_name)}),Object(m.jsx)("h3",{children:e.title}),Object(m.jsx)("p",{children:e.date_time})]})};var W=function(e){var t="http://localhost:8000/reports",s=Object(n.useState)([]),c=Object(i.a)(s,2),a=c[0],r=c[1];Object(n.useEffect)((function(){function e(){return(e=Object(y.a)(w.a.mark((function e(){var s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(t);case 2:return s=e.sent,r(s.data),e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var o=a.map((function(e){return Object(m.jsxs)("div",{className:"post",children:[Object(m.jsx)(F,{first_name:e.first_name,last_name:e.last_name,title:e.title,date_time:e.date_time}),Object(m.jsx)("p",{children:e.report}),Object(m.jsx)(_,{likes:e.up_vote}),Object(m.jsx)(E,{id:e.id})]})}));return Object(m.jsx)("div",{children:o})},R=s(33),A=(s(122),s.p+"static/media/map-pin.46ecb8c5.svg");s(123),s(124);var J=function(e){var t=Object(n.useState)({latitude:43.6532,longitude:-79.3832,width:"100vw",height:"100vh",zoom:10}),s=Object(i.a)(t,2),c=s[0],a=s[1],r=Object(n.useState)(null),o=Object(i.a)(r,2),j=o[0],d=o[1],u=Object(n.useState)(null),b=Object(i.a)(u,2),h=b[0],p=b[1];return Object(n.useEffect)((function(){var e=[];v.a.get("http://localhost:8000/map").then((function(t){t.data.map((function(t){v.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t.report_address,".json?access_token=").concat("pk.eyJ1IjoieWF5YWkiLCJhIjoiY2t1YnlnOWxsMHZmMjJucWxwc3IyemRyaCJ9._WmqyZnJMcswY8ns46KEAQ"," ")).then((function(s){var n=Object.assign(t,s.data.features[0]);e.push(n)}))}))})),console.log(e),p(e)}),[]),console.log("this is data from useState",h),Object(m.jsx)("div",{id:"map_id",children:Object(m.jsxs)(R.c,Object(l.a)(Object(l.a)({},c),{},{mapboxApiAccessToken:"pk.eyJ1IjoieWF5YWkiLCJhIjoiY2t1YnlnOWxsMHZmMjJucWxwc3IyemRyaCJ9._WmqyZnJMcswY8ns46KEAQ",mapStyle:"mapbox://styles/yayai/cku67dk643aw417l4lihf6ueq",onViewportChange:function(e){a(e)},children:[h&&h.map((function(e){return Object(m.jsx)(R.a,{latitude:e.center[1],longitude:e.center[0],children:Object(m.jsx)("a",{className:"button-pin",onClick:function(t){t.preventDefault(),d(e)},children:Object(m.jsx)("img",{src:A,alt:"pin"})})},e.id)})),j&&Object(m.jsx)(R.b,{latitude:j.center[1],longitude:j.center[0],onClose:function(){d(null)},children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Poster: ".concat(j.first_name)}),Object(m.jsx)("p",{children:"Post Category: ".concat(j.category)}),Object(m.jsx)("p",{children:"Title: ".concat(j.title)})]})})]}))})};var L=function(e){return Object(m.jsx)("div",{className:"report-map",children:Object(m.jsx)(J,{})})};var T=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),s=t[0],c=t[1];return Object(m.jsxs)(d.a,{children:[Object(m.jsx)(h,{className:"nav",user:s,setUser:c}),Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(b.c,{children:[Object(m.jsx)(b.a,{path:"/",exact:!0,component:O}),Object(m.jsx)(b.a,{path:"/login",component:function(){return Object(m.jsx)(g,{user:s,setUser:c})}}),Object(m.jsx)(b.a,{path:"/register",component:C}),Object(m.jsx)(b.a,{path:"/new",component:x}),Object(m.jsx)(b.a,{path:"/posts",component:W}),Object(m.jsx)(b.a,{path:"/map",component:L})]})})]})},I=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,144)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root")),I()},67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){},78:function(e,t,s){},79:function(e,t,s){},80:function(e,t,s){}},[[143,1,2]]]);
//# sourceMappingURL=main.195726e1.chunk.js.map